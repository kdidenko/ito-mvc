(function($){$.localisationAn = function(p){if($.namespace!=null){return $.namespace[p]}else{return p}}; /* date */ Date.dayNames = [$.localisationAn('Sunday'), $.localisationAn('Monday'), $.localisationAn('Tuesday'), $.localisationAn('Wednesday'), $.localisationAn('Thursday'), $.localisationAn('Friday'), $.localisationAn('Saturday')]; Date.abbrDayNames = [$.localisationAn('Sun'), $.localisationAn('Mon'), $.localisationAn('Tue'), $.localisationAn('Wed'), $.localisationAn('Thu'), $.localisationAn('Fri'), $.localisationAn('Sat')]; Date.monthNames = [$.localisationAn('Januari'), $.localisationAn('Februari'), $.localisationAn('Maart'), $.localisationAn('April'), $.localisationAn('Mei'), $.localisationAn('Juni'), $.localisationAn('Juli'), $.localisationAn('Augustus'), $.localisationAn('September'), $.localisationAn('Oktober'), $.localisationAn('November'), $.localisationAn('December')]; Date.abbrMonthNames = [$.localisationAn('Jan'), $.localisationAn('Feb'), $.localisationAn('Mar'), $.localisationAn('Apr'), $.localisationAn('May'), $.localisationAn('Jun'), $.localisationAn('Jul'), $.localisationAn('Aug'), $.localisationAn('Sep'), $.localisationAn('Oct'), $.localisationAn('Nov'), $.localisationAn('Dec')]; Date.firstDayOfWeek = 1; Date.format = 'dd/mm/yyyy'; Date.fullYearStart = '20'; function add(a,b){if(!Date.prototype[a]){Date.prototype[a]=b}};add("isLeapYear",function(){var y=this.getFullYear();return(y%4==0&&y%100!=0)||y%400==0});add("isWeekend",function(){return this.getDay()==0||this.getDay()==6});add("isWeekDay",function(){return!this.isWeekend()});add("getDaysInMonth",function(){return[31,(this.isLeapYear()?29:28),31,30,31,30,31,31,30,31,30,31][this.getMonth()]});add("getDayName",function(a){return a?Date.abbrDayNames[this.getDay()]:Date.dayNames[this.getDay()]});add("getMonthName",function(a){return a?Date.abbrMonthNames[this.getMonth()]:Date.monthNames[this.getMonth()]});add("getDayOfYear",function(){var a=new Date("1/1/"+this.getFullYear());return Math.floor((this.getTime()-a.getTime())/86400000)});add("getWeekOfYear",function(){return Math.ceil(this.getDayOfYear()/7)});add("setDayOfYear",function(a){this.setMonth(0);this.setDate(a);return this});add("addYears",function(a){this.setFullYear(this.getFullYear()+a);return this});add("addMonths",function(a){var b=this.getDate();this.setMonth(this.getMonth()+a);if(b>this.getDate())this.addDays(-this.getDate());return this});add("addDays",function(a){this.setTime(this.getTime()+(a*86400000));return this});add("addHours",function(a){this.setHours(this.getHours()+a);return this});add("addMinutes",function(a){this.setMinutes(this.getMinutes()+a);return this});add("addSeconds",function(a){this.setSeconds(this.getSeconds()+a);return this});add("zeroTime",function(){this.setMilliseconds(0);this.setSeconds(0);this.setMinutes(0);this.setHours(0);return this});add("asString",function(a){var r=a||Date.format;return r.split('yyyy').join(this.getFullYear()).split('yy').join((this.getFullYear()+'').substring(2)).split('mmmm').join(this.getMonthName(false)).split('mmm').join(this.getMonthName(true)).split('mm').join(j(this.getMonth()+1)).split('dd').join(j(this.getDate())).split('hh').join(j(this.getHours())).split('min').join(j(this.getMinutes())).split('ss').join(j(this.getSeconds()))});Date.fromString=function(s,a){var f=a||Date.format;var d=new Date('01/01/1977');var b=0;var c=f.indexOf('mmmm');if(c>-1){for(var i=0;i<Date.monthNames.length;i++){var e=s.substr(c,Date.monthNames[i].length);if(Date.monthNames[i]==e){b=Date.monthNames[i].length-4;break}}d.setMonth(i)}else{c=f.indexOf('mmm');if(c>-1){var e=s.substr(c,3);for(var i=0;i<Date.abbrMonthNames.length;i++){if(Date.abbrMonthNames[i]==e)break}d.setMonth(i)}else{d.setMonth(Number(s.substr(f.indexOf('mm'),2))-1)}}var g=f.indexOf('yyyy');if(g>-1){if(c<g){g+=b}d.setFullYear(Number(s.substr(g,4)))}else{if(c<g){g+=b}d.setFullYear(Number(Date.fullYearStart+s.substr(f.indexOf('yy'),2)))}var h=f.indexOf('dd');if(c<h){h+=b}d.setDate(Number(s.substr(h,2)));if(isNaN(d.getTime())){return false}return d};var j=function(a){var s='0'+a;return s.substring(s.length-2)}; /* rtf */ $.cleditor={defaultOptions:{width:500,height:250,controls:"bold italic underline strikethrough subscript superscript | font size "+"style | color highlight removeformat | bullets numbering | outdent "+"indent | alignleft center alignright justify | undo redo | "+"rule image link unlink | cut copy paste pastetext | print source",colors:"FFF FCC FC9 FF9 FFC 9F9 9FF CFF CCF FCF "+"CCC F66 F96 FF6 FF3 6F9 3FF 6FF 99F F9F "+"BBB F00 F90 FC6 FF0 3F3 6CC 3CF 66C C6C "+"999 C00 F60 FC3 FC0 3C0 0CC 36F 63F C3C "+"666 900 C60 C93 990 090 399 33F 60C 939 "+"333 600 930 963 660 060 366 009 339 636 "+"000 300 630 633 330 030 033 006 309 303",fonts:"Arial,Arial Black,Comic Sans MS,Courier New,Narrow,Garamond,"+"Georgia,Impact,Sans Serif,Serif,Tahoma,Trebuchet MS,Verdana",sizes:"1,2,3,4,5,6,7",styles:[["Paragraph","<p>"],["Header 1","<h1>"],["Header 2","<h2>"],["Header 3","<h3>"],["Header 4","<h4>"],["Header 5","<h5>"],["Header 6","<h6>"]],useCSS:false,docType:'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">',docCSSFile:"",bodyStyle:"margin:4px; font:10pt 'Lucida Sans', 'Lucida Grande', Arial, sans-serif; cursor:text"},buttons:{init:"bold,,|"+"italic,,|"+"underline,,|"+"strikethrough,,|"+"subscript,,|"+"superscript,,|"+"font,,fontname,|"+"size,Font Size,fontsize,|"+"style,,formatblock,|"+"color,Font Color,forecolor,|"+"highlight,Text Highlight Color,hilitecolor,color|"+"removeformat,Remove Formatting,|"+"bullets,,insertunorderedlist|"+"numbering,,insertorderedlist|"+"outdent,,|"+"indent,,|"+"alignleft,Align Text Left,justifyleft|"+"center,,justifycenter|"+"alignright,Align Text Right,justifyright|"+"justify,,justifyfull|"+"undo,,|"+"redo,,|"+"rule,Insert Horizontal Rule,inserthorizontalrule|"+"image,Insert Image,insertimage,url|"+"link,Insert Hyperlink,createlink,url|"+"unlink,Remove Hyperlink,|"+"cut,,|"+"copy,,|"+"paste,,|"+"pastetext,Paste as Text,inserthtml,|"+"print,,|"+"source,Show Source"},imagesPath:function(){return imagesPath()}};$.fn.cleditor=function(d){var e=$([]);this.each(function(a,b){if(b.tagName=="TEXTAREA"){var c=$.data(b,CLEDITOR);if(!c)c=new cleditor(b,d);e=e.add(c)}});return e};var n="backgroundColor",BUTTON="button",BUTTON_NAME="buttonName",CHANGE="change",CLEDITOR="cleditor",CLICK="click",DISABLED="disabled",DIV_TAG="<div>",TRANSPARENT="transparent",UNSELECTABLE="unselectable",MAIN_CLASS="cleditorMain",TOOLBAR_CLASS="cleditorToolbar",GROUP_CLASS="cleditorGroup",BUTTON_CLASS="cleditorButton",DISABLED_CLASS="cleditorDisabled",DIVIDER_CLASS="cleditorDivider",POPUP_CLASS="cleditorPopup",LIST_CLASS="cleditorList",COLOR_CLASS="cleditorColor",PROMPT_CLASS="cleditorPrompt",MSG_CLASS="cleditorMsg",ie=$.browser.msie,ie6=/msie\s6/i.test(navigator.userAgent),iOS=/iphone|ipad|ipod/i.test(navigator.userAgent),popups={},documentClickAssigned,buttons=$.cleditor.buttons;$.each(buttons.init.split("|"),function(a,b){var c=b.split(","),name=c[0];buttons[name]={stripIndex:a,name:name,title:c[1]===""?name.charAt(0).toUpperCase()+name.substr(1):c[1],command:c[2]===""?name:c[2],popupName:c[3]===""?name:c[3]}});delete buttons.init;cleditor=function(g,h){var i=this;i.options=h=$.extend({},$.cleditor.defaultOptions,h);var j=i.$area=$(g).hide().data(CLEDITOR,i).blur(function(){updateFrame(i,true)});var k=i.$main=$(DIV_TAG).addClass(MAIN_CLASS).width(h.width).height(h.height);var l=i.$toolbar=$(DIV_TAG).addClass(TOOLBAR_CLASS).appendTo(k);var m=$(DIV_TAG).addClass(GROUP_CLASS).appendTo(l);$.each(h.controls.split(" "),function(a,b){if(b==="")return true;if(b=="|"){var c=$(DIV_TAG).addClass(DIVIDER_CLASS).appendTo(m);m=$(DIV_TAG).addClass(GROUP_CLASS).appendTo(l)}else{var d=buttons[b];var e=$(DIV_TAG).data(BUTTON_NAME,d.name).addClass(BUTTON_CLASS).attr("title",d.title).bind(CLICK,$.proxy(buttonClick,i)).appendTo(m).hover(hoverEnter,hoverLeave);var f={};if(d.css)f=d.css;else if(d.image)f.backgroundImage=imageUrl(d.image);if(d.stripIndex)f.backgroundPosition=d.stripIndex*-24;e.css(f);if(ie)e.attr(UNSELECTABLE,"on");if(d.popupName)createPopup(d.popupName,h,d.popupClass,d.popupContent,d.popupHover)}});k.insertBefore(j).append(j);if(!documentClickAssigned){$(document).click(function(e){var a=$(e.target);if(!a.add(a.parents()).is("."+PROMPT_CLASS))hidePopups()});documentClickAssigned=true}if(/auto|%/.test(""+h.width+h.height))$(window).resize(function(){refresh(i)});refresh(i)};var o=cleditor.prototype,methods=[["clear",clear],["disable",disable],["execCommand",execCommand],["focus",focus],["hidePopups",hidePopups],["sourceMode",sourceMode,true],["refresh",refresh],["select",select],["selectedHTML",selectedHTML,true],["selectedText",selectedText,true],["showMessage",showMessage],["updateFrame",updateFrame],["updateTextArea",updateTextArea]];$.each(methods,function(c,d){o[d[0]]=function(){var a=this,args=[a];for(var x=0;x<arguments.length;x++){args.push(arguments[x])}var b=d[1].apply(a,args);if(d[2])return b;return a}});o.change=function(a){var b=$(this);return a?b.bind(CHANGE,a):b.trigger(CHANGE)};function buttonClick(e){var b=this,buttonDiv=e.target,buttonName=$.data(buttonDiv,BUTTON_NAME),button=buttons[buttonName],popupName=button.popupName,popup=popups[popupName];if(b.disabled||$(buttonDiv).attr(DISABLED)==DISABLED)return;var c={editor:b,button:buttonDiv,buttonName:buttonName,popup:popup,popupName:popupName,command:button.command,useCSS:b.options.useCSS};if(button.buttonClick&&button.buttonClick(e,c)===false)return false;if(buttonName=="source"){if(sourceMode(b)){delete b.range;b.$area.hide();b.$frame.show();buttonDiv.title=button.title}else{b.$frame.hide();b.$area.show();buttonDiv.title="Show Rich Text"}setTimeout(function(){refreshButtons(b)},100)}else if(!sourceMode(b)){if(popupName){var d=$(popup);if(popupName=="url"){if(buttonName=="link"&&selectedText(b)===""){showMessage(b,"A selection is required when inserting a link.",buttonDiv);return false}d.children(":button").unbind(CLICK).bind(CLICK,function(){var a=d.find(":text"),url=$.trim(a.val());if(url!=="")execCommand(b,c.command,url,null,c.button);a.val("http://");hidePopups();focus(b)})}else if(popupName=="pastetext"){d.children(":button").unbind(CLICK).bind(CLICK,function(){var a=d.find("textarea"),text=a.val().replace(/\n/g,"<br />");if(text!=="")execCommand(b,c.command,text,null,c.button);a.val("");hidePopups();focus(b)})}if(buttonDiv!==$.data(popup,BUTTON)){showPopup(b,popup,buttonDiv);return false}return}else if(buttonName=="print")b.$frame[0].contentWindow.print();else if(!execCommand(b,c.command,c.value,c.useCSS,buttonDiv))return false}focus(b)}function hoverEnter(e){var a=$(e.target).closest("div");a.css(n,a.data(BUTTON_NAME)?"#FFF":"#FFC")}function hoverLeave(e){$(e.target).closest("div").css(n,"transparent")}function popupClick(e){var a=this,popup=e.data.popup,target=e.target;if(popup===popups.msg||$(popup).hasClass(PROMPT_CLASS))return;var b=$.data(popup,BUTTON),buttonName=$.data(b,BUTTON_NAME),button=buttons[buttonName],command=button.command,value,useCSS=a.options.useCSS;if(buttonName=="font")value=target.style.fontFamily.replace(/"/g,"");else if(buttonName=="size"){if(target.tagName=="DIV")target=target.children[0];value=target.innerHTML}else if(buttonName=="style")value="<"+target.tagName+">";else if(buttonName=="color")value=hex(target.style.backgroundColor);else if(buttonName=="highlight"){value=hex(target.style.backgroundColor);if(ie)command='backcolor';else useCSS=true}var c={editor:a,button:b,buttonName:buttonName,popup:popup,popupName:button.popupName,command:command,value:value,useCSS:useCSS};if(button.popupClick&&button.popupClick(e,c)===false)return;if(c.command&&!execCommand(a,c.command,c.value,c.useCSS,b))return false;hidePopups();focus(a)}function checksum(c){var a=1,b=0;for(var d=0;d<c.length;++d){a=(a+c.charCodeAt(d))%65521;b=(b+a)%65521}return(b<<16)|a}function clear(a){a.$area.val("");updateFrame(a)}function createPopup(c,d,e,f,g){if(popups[c])return popups[c];var h=$(DIV_TAG).hide().addClass(POPUP_CLASS).appendTo("body");if(f)h.html(f);else if(c=="color"){var i=d.colors.split(" ");if(i.length<10)h.width("auto");$.each(i,function(a,b){$(DIV_TAG).appendTo(h).css(n,"#"+b)});e=COLOR_CLASS}else if(c=="font")$.each(d.fonts.split(","),function(a,b){$(DIV_TAG).appendTo(h).css("fontFamily",b).html(b)});else if(c=="size")$.each(d.sizes.split(","),function(a,b){$(DIV_TAG).appendTo(h).html("<font size="+b+">"+b+"</font>")});else if(c=="style")$.each(d.styles,function(a,b){$(DIV_TAG).appendTo(h).html(b[1]+b[0]+b[1].replace("<","</"))});else if(c=="url"){h.html('Enter URL:<br><input type=text value="http://" size=35><br><input type=button value="Submit">');e=PROMPT_CLASS}else if(c=="pastetext"){h.html('Paste your content here and click submit.<br /><textarea cols=40 rows=3></textarea><br /><input type=button value=Submit>');e=PROMPT_CLASS}if(!e&&!f)e=LIST_CLASS;h.addClass(e);if(ie){h.attr(UNSELECTABLE,"on").find("div,font,p,h1,h2,h3,h4,h5,h6").attr(UNSELECTABLE,"on")}if(h.hasClass(LIST_CLASS)||g===true)h.children().hover(hoverEnter,hoverLeave);popups[c]=h[0];return h[0]}function disable(a,b){if(b){a.$area.attr(DISABLED,DISABLED);a.disabled=true}else{a.$area.removeAttr(DISABLED);delete a.disabled}try{if(ie)a.doc.body.contentEditable=!b;else a.doc.designMode=!b?"on":"off"}catch(err){}refreshButtons(a)}function execCommand(a,b,c,d,e){restoreRange(a);if(!ie){if(d===undefined||d===null)d=a.options.useCSS;a.doc.execCommand("styleWithCSS",0,d.toString())}var f=true,description;if(ie&&b.toLowerCase()=="inserthtml")getRange(a).pasteHTML(c);else{try{f=a.doc.execCommand(b,0,c||null)}catch(err){description=err.description;f=false}if(!f){if("cutcopypaste".indexOf(b)>-1)showMessage(a,"For security reasons, your browser does not support the "+b+" command. Try using the keyboard shortcut or context menu instead.",e);else showMessage(a,(description?description:"Error executing the "+b+" command."),e)}}refreshButtons(a);return f}function focus(a){setTimeout(function(){if(sourceMode(a))a.$area.focus();else a.$frame[0].contentWindow.focus();refreshButtons(a)},0)}function getRange(a){if(ie)return getSelection(a).createRange();return getSelection(a).getRangeAt(0)}function getSelection(a){if(ie)return a.doc.selection;return a.$frame[0].contentWindow.getSelection()}function hex(s){var m=/rgba?\((\d+), (\d+), (\d+)/.exec(s),c=s.split("");if(m){s=(m[1]<<16|m[2]<<8|m[3]).toString(16);while(s.length<6)s="0"+s}return"#"+(s.length==6?s:c[1]+c[1]+c[2]+c[2]+c[3]+c[3])}function hidePopups(){$.each(popups,function(a,b){$(b).hide().unbind(CLICK).removeData(BUTTON)})}function imagesPath(){var a="jquery.cleditor.css",href=$("link[href$='"+a+"']").attr("href");return href.substr(0,href.length-a.length)+"images/"}function imageUrl(a){return"url("+imagesPath()+a+")"}function refresh(c){var d=c.$main,options=c.options;if(c.$frame)c.$frame.remove();var f=c.$frame=$('<iframe frameborder="0" src="javascript:true;">').hide().appendTo(d);var g=f[0].contentWindow,doc=c.doc=g.document,$doc=$(doc);doc.open();doc.write(options.docType+'<html>'+((options.docCSSFile==='')?'':'<head><link rel="stylesheet" type="text/css" href="'+options.docCSSFile+'" /></head>')+'<body style="'+options.bodyStyle+'"></body></html>');doc.close();if(ie)$doc.click(function(){focus(c)});updateFrame(c);if(ie){$doc.bind("beforedeactivate beforeactivate selectionchange keypress",function(e){if(e.type=="beforedeactivate")c.inactive=true;else if(e.type=="beforeactivate"){if(!c.inactive&&c.range&&c.range.length>1)c.range.shift();delete c.inactive}else if(!c.inactive){if(!c.range)c.range=[];c.range.unshift(getRange(c));while(c.range.length>2)c.range.pop()}});f.focus(function(){restoreRange(c)})}($.browser.mozilla?$doc:$(g)).blur(function(){updateTextArea(c,true)});$doc.click(hidePopups).bind("keyup mouseup",function(){refreshButtons(c)});if(iOS)c.$area.show();else f.show();$(function(){var a=c.$toolbar,$group=a.children("div:last"),wid=d.width();var b=$group.offset().top+$group.outerHeight()-a.offset().top+1;a.height(b);b=(/%/.test(""+options.height)?d.height():parseInt(options.height))-b;f.width(wid).height(b);c.$area.width(wid).height(ie6?b-2:b);disable(c,c.disabled);refreshButtons(c)})}function refreshButtons(e){if(!iOS&&$.browser.webkit&&!e.focused){e.$frame[0].contentWindow.focus();window.focus();e.focused=true}var f=e.doc;if(ie)f=getRange(e);var g=sourceMode(e);$.each(e.$toolbar.find("."+BUTTON_CLASS),function(a,b){var c=$(b),button=$.cleditor.buttons[$.data(b,BUTTON_NAME)],command=button.command,enabled=true;if(e.disabled)enabled=false;else if(button.getEnabled){var d={editor:e,button:b,buttonName:button.name,popup:popups[button.popupName],popupName:button.popupName,command:button.command,useCSS:e.options.useCSS};enabled=button.getEnabled(d);if(enabled===undefined)enabled=true}else if(((g||iOS)&&button.name!="source")||(ie&&(command=="undo"||command=="redo")))enabled=false;else if(command&&command!="print"){if(ie&&command=="hilitecolor")command="backcolor";if(!ie||command!="inserthtml"){try{enabled=f.queryCommandEnabled(command)}catch(err){enabled=false}}}if(enabled){c.removeClass(DISABLED_CLASS);c.removeAttr(DISABLED)}else{c.addClass(DISABLED_CLASS);c.attr(DISABLED,DISABLED)}})}function restoreRange(a){if(ie&&a.range)a.range[0].select()}function select(a){setTimeout(function(){if(sourceMode(a))a.$area.select();else execCommand(a,"selectall")},0)}function selectedHTML(a){restoreRange(a);var b=getRange(a);if(ie)return b.htmlText;var c=$("<layer>")[0];c.appendChild(b.cloneContents());var d=c.innerHTML;c=null;return d}function selectedText(a){restoreRange(a);if(ie)return getRange(a).text;return getSelection(a).toString()}function showMessage(a,b,c){var d=createPopup("msg",a.options,MSG_CLASS);d.innerHTML=b;showPopup(a,d,c)}function showPopup(a,b,c){var d,left,top,$popup=$(b);if(c){var e=$(c);d=e.offset();left=--d.left;top=d.top+e.height()}else{var f=a.$toolbar;d=f.offset();left=Math.floor((f.width()-$popup.width())/2)+d.left;top=d.top+f.height()-2}hidePopups();$popup.css({left:left,top:top}).show();if(c){$.data(b,BUTTON,c);$popup.bind(CLICK,{popup:b},$.proxy(popupClick,a))}setTimeout(function(){$popup.find(":text,textarea").eq(0).focus().select()},100)}function sourceMode(a){return a.$area.is(":visible")}function updateFrame(a,b){var c=a.$area.val(),options=a.options,updateFrameCallback=options.updateFrame,$body=$(a.doc.body);if(updateFrameCallback){var d=checksum(c);if(b&&a.areaChecksum==d)return;a.areaChecksum=d}var e=updateFrameCallback?updateFrameCallback(c):c;e=e.replace(/<(?=\/?script)/ig,"&lt;");if(options.updateTextArea)a.frameChecksum=checksum(e);if(e!=$body.html()){$body.html(e);$(a).triggerHandler(CHANGE)}}function updateTextArea(a,b){var c=$(a.doc.body).html(),options=a.options,updateTextAreaCallback=options.updateTextArea,$area=a.$area;if(updateTextAreaCallback){var d=checksum(c);if(b&&a.frameChecksum==d)return;a.frameChecksum=d}var e=updateTextAreaCallback?updateTextAreaCallback(c):c;if(options.updateFrame)a.areaChecksum=checksum(e);if(e!=$area.val()){$area.val(e);$(a).triggerHandler(CHANGE)}}; /* calendar */ $.fn.extend({renderCalendar:function(s){var c=function(a){return document.createElement(a)};s=$.extend({},$.fn.datePicker.defaults,s);if(s.showHeader!=$.dpConst.SHOW_HEADER_NONE){var e=$(c('tr'));for(var i=Date.firstDayOfWeek;i<Date.firstDayOfWeek+7;i++){var f=i%7;var g=Date.dayNames[f];e.append(jQuery(c('th')).attr({'scope':'col','abbr':g,'title':g,'class':(f==0||f==6?'weekend':'weekday')}).html(s.showHeader==$.dpConst.SHOW_HEADER_SHORT?g.substr(0,1):g))}};var h=$(c('table')).attr({'cellspacing':2}).addClass('tCalendar').append((s.showHeader!=$.dpConst.SHOW_HEADER_NONE?$(c('thead')).append(e):c('thead')));var j=$(c('tbody'));var k=(new Date()).zeroTime();k.setHours(12);var l=s.month==undefined?k.getMonth():s.month;var m=s.year||k.getFullYear();var n=(new Date(m,l,1,12,0,0));var o=Date.firstDayOfWeek-n.getDay()+1;if(o>1)o-=7;var p=Math.ceil(((-1*o+1)+n.getDaysInMonth())/7);n.addDays(o-1);var q=function(b){return function(){if(s.hoverClass){var a=$(this);if(!s.selectWeek){a.addClass(s.hoverClass)}else if(b&&!a.is('.disabledDay')){a.parent().addClass('activeWeekHover')}}}};var t=function(){if(s.hoverClass){var a=$(this);a.removeClass(s.hoverClass);a.parent().removeClass('activeWeekHover')}};var w=0;while(w++<p){var r=jQuery(c('tr'));var u=s.dpController?n>s.dpController.startDate:false;for(var i=0;i<7;i++){var v=n.getMonth()==l;var d=$(c('td')).text(n.getDate()+'').addClass((v?'current-month ':'otherMonth ')+(n.isWeekend()?'weekend ':'weekday ')+(v&&n.getTime()==k.getTime()?'currentDay ':'')).data('datePickerDate',n.asString()).hover(q(u),t);r.append(d);if(s.renderCallback){s.renderCallback(d,n,l,m)}n=new Date(n.getFullYear(),n.getMonth(),n.getDate()+1,12,0,0)}j.append(r)}h.append(j);return this.each(function(){$(this).empty().append(h)})},datePicker:function(s){if(!$.event._dpCache)$.event._dpCache=[];s=$.extend({},$.fn.datePicker.defaults,s);return this.each(function(){var c=$(this);var f=true;if(!this._dpId){this._dpId=$.event.guid++;$.event._dpCache[this._dpId]=new DatePicker(this);f=false}if(s.inline){s.createButton=false;s.displayClose=false;s.closeOnSelect=false;c.empty()}var g=$.event._dpCache[this._dpId];g.init(s);if(!f&&s.createButton){g.button=$('<a href="#" class="chooseDate" title="'+$.dpText.TEXT_CHOOSE_DATE+'">'+$.dpText.TEXT_CHOOSE_DATE+'</a>').bind('click',function(){c.dpDisplay(this);this.blur();return false});c.after(g.button)}if(!f&&c.is(':text')){c.bind('dateSelected',function(e,a,b){this.value=a.asString()}).bind('change',function(){if(this.value==''){g.clearSelected()}else{var d=Date.fromString(this.value);if(d){g.setSelected(d,true,true)}}});if(s.clickInput){c.bind('click',function(){c.trigger('change');c.dpDisplay()})}var d=Date.fromString(this.value);if(this.value!=''&&d){g.setSelected(d,true,true)}}c.addClass('dp-applied')})},dpSetDisabled:function(s){return x.call(this,'setDisabled',s)},dpSetStartDate:function(d){return x.call(this,'setStartDate',d)},dpSetEndDate:function(d){return x.call(this,'setEndDate',d)},dpGetSelected:function(){var c=_getController(this[0]);if(c){return c.getSelected()}return null},dpSetSelected:function(d,v,m,e){if(v==undefined)v=true;if(m==undefined)m=true;if(e==undefined)e=true;return x.call(this,'setSelected',Date.fromString(d),v,m,e)},dpSetDisplayedMonth:function(m,y){return x.call(this,'setDisplayedMonth',Number(m),Number(y),true)},dpDisplay:function(e){return x.call(this,'display',e)},dpSetRenderCallback:function(a){return x.call(this,'setRenderCallback',a)},dpSetPosition:function(v,h){return x.call(this,'setPosition',v,h)},dpSetOffset:function(v,h){return x.call(this,'setOffset',v,h)},dpClose:function(){return x.call(this,'_closeCalendar',false,this[0])},dpRerenderCalendar:function(){return x.call(this,'_rerenderCalendar')},_dpDestroy:function(){}});var x=function(f,a,b,d,e){return this.each(function(){var c=_getController(this);if(c){c[f](a,b,d,e)}})};function DatePicker(a){this.ele=a;this.displayedMonth=null;this.displayedYear=null;this.startDate=null;this.endDate=null;this.showYearNavigation=null;this.closeOnSelect=null;this.displayClose=null;this.rememberViewedMonth=null;this.selectMultiple=null;this.numSelectable=null;this.numSelected=null;this.verticalPosition=null;this.horizontalPosition=null;this.verticalOffset=null;this.horizontalOffset=null;this.button=null;this.renderCallback=[];this.selectedDates={};this.inline=null;this.context='#dPopup';this.settings={}};$.extend(DatePicker.prototype,{init:function(s){this.setStartDate(s.startDate);this.setEndDate(s.endDate);this.setDisplayedMonth(Number(s.month),Number(s.year));this.setRenderCallback(s.renderCallback);this.showYearNavigation=s.showYearNavigation;this.closeOnSelect=s.closeOnSelect;this.displayClose=s.displayClose;this.rememberViewedMonth=s.rememberViewedMonth;this.selectMultiple=s.selectMultiple;this.numSelectable=s.selectMultiple?s.numSelectable:1;this.numSelected=0;this.verticalPosition=s.verticalPosition;this.horizontalPosition=s.horizontalPosition;this.hoverClass=s.hoverClass;this.setOffset(s.verticalOffset,s.horizontalOffset);this.inline=s.inline;this.settings=s;if(this.inline){this.context=this.ele;this.display()}},setStartDate:function(d){if(d){this.startDate=Date.fromString(d)}if(!this.startDate){this.startDate=(new Date()).zeroTime()}this.setDisplayedMonth(this.displayedMonth,this.displayedYear)},setEndDate:function(d){if(d){this.endDate=Date.fromString(d)}if(!this.endDate){this.endDate=(new Date('12/31/2999'))}if(this.endDate.getTime()<this.startDate.getTime()){this.endDate=this.startDate}this.setDisplayedMonth(this.displayedMonth,this.displayedYear)},setPosition:function(v,h){this.verticalPosition=v;this.horizontalPosition=h},setOffset:function(v,h){this.verticalOffset=parseInt(v)||0;this.horizontalOffset=parseInt(h)||0},setDisabled:function(s){$e=$(this.ele);$e[s?'addClass':'removeClass']('dDisabled');if(this.button){$but=$(this.button);$but[s?'addClass':'removeClass']('dDisabled');$but.attr('title',s?'':$.dpText.TEXT_CHOOSE_DATE)}if($e.is(':text')){$e.attr('disabledDay',s?'disabledDay':'')}},setDisplayedMonth:function(m,y,a){if(this.startDate==undefined||this.endDate==undefined){return}var s=new Date(this.startDate.getTime());s.setDate(1);var e=new Date(this.endDate.getTime());e.setDate(1);var t;if((!m&&!y)||(isNaN(m)&&isNaN(y))){t=new Date().zeroTime();t.setDate(1)}else if(isNaN(m)){t=new Date(y,this.displayedMonth,1)}else if(isNaN(y)){t=new Date(this.displayedYear,m,1)}else{t=new Date(y,m,1)}if(t.getTime()<s.getTime()){t=s}else if(t.getTime()>e.getTime()){t=e}var b=this.displayedMonth;var c=this.displayedYear;this.displayedMonth=t.getMonth();this.displayedYear=t.getFullYear();if(a&&(this.displayedMonth!=b||this.displayedYear!=c)){this._rerenderCalendar();$(this.ele).trigger('dpMonthChanged',[this.displayedMonth,this.displayedYear])}},setSelected:function(d,v,a,b){if(d<this.startDate||d.zeroTime()>this.endDate.zeroTime()){return}var s=this.settings;if(s.selectWeek){d=d.addDays(-(d.getDay()-Date.firstDayOfWeek+7)%7);if(d<this.startDate){return}}if(v==this.isSelected(d)){return}if(this.selectMultiple==false){this.clearSelected()}else if(v&&this.numSelected==this.numSelectable){return}if(a&&(this.displayedMonth!=d.getMonth()||this.displayedYear!=d.getFullYear())){this.setDisplayedMonth(d.getMonth(),d.getFullYear(),true)}this.selectedDates[d.asString()]=v;this.numSelected+=v?1:-1;var c='td.'+(d.getMonth()==this.displayedMonth?'current-month':'otherMonth');var e;$(c,this.context).each(function(){if($(this).data('datePickerDate')==d.asString()){e=$(this);if(s.selectWeek){e.parent()[v?'addClass':'removeClass']('selectedWeek')}e[v?'addClass':'removeClass']('selectedDay')}});$('td',this.context).not('.selectedDay')[this.selectMultiple&&this.numSelected==this.numSelectable?'addClass':'removeClass']('unselectable');if(b){var s=this.isSelected(d);$e=$(this.ele);var f=Date.fromString(d.asString());$e.trigger('dateSelected',[f,e,s]);$e.trigger('change')}},isSelected:function(d){return this.selectedDates[d.asString()]},getSelected:function(){var r=[];for(var s in this.selectedDates){if(this.selectedDates[s]==true){r.push(Date.fromString(s))}}return r},clearSelected:function(){this.selectedDates={};this.numSelected=0;$('td.selectedDay',this.context).removeClass('selectedDay').parent().removeClass('selectedWeek')},display:function(d){if($(this.ele).is('.dDisabled'))return;d=d||this.ele;var c=this;var f=$(d);var g=f.offset();var h;var i;var j;var k;if(c.inline){h=$(this.ele);i={'id':'calendar-'+this.ele._dpId,'class':'dPopup dp-popup-inline'};$('.dPopup',h).remove();k={}}else{h=$('body');i={'id':'dPopup','class':'dPopup'};k={'top':g.top+c.verticalOffset,'left':g.left+c.horizontalOffset};var l=function(e){var a=e.target;var b=$('#dPopup')[0];while(true){if(a==b){return true}else if(a==document){c._closeCalendar();return false}else{a=$(a).parent()[0]}}};this._checkMouse=l;c._closeCalendar(true);$(document).bind('keydown.datepicker',function(a){if(a.keyCode==27){c._closeCalendar()}})}if(!c.rememberViewedMonth){var m=this.getSelected()[0];if(m){m=new Date(m);this.setDisplayedMonth(m.getMonth(),m.getFullYear(),false)}}h.append($('<div />').attr(i).css(k).append($('<h4 />'),$('<div class="dNavPrev" />').append($('<a class="dNavPrevYear" href="#" title="'+$.dpText.TEXT_PREV_YEAR+'">&laquo;</a>').bind('click',function(){return c._displayNewMonth.call(c,this,0,-1)}),$('<a class="dNavPrevMonth" href="#" title="'+$.dpText.TEXT_PREV_MONTH+'">&lsaquo;</a>').bind('click',function(){return c._displayNewMonth.call(c,this,-1,0)})),$('<div class="dNavNext" />').append($('<a class="dNavNextYear" href="#" title="'+$.dpText.TEXT_NEXT_YEAR+'">&raquo;</a>').bind('click',function(){return c._displayNewMonth.call(c,this,0,1)}),$('<a class="dNavNextMonth" href="#" title="'+$.dpText.TEXT_NEXT_MONTH+'">&rsaquo;</a>').bind('click',function(){return c._displayNewMonth.call(c,this,1,0)})),$('<div class="dCalendar" />')).bgIframe());var n=this.inline?$('.dPopup',this.context):$('#dPopup');if(this.showYearNavigation==false){$('.dNavPrevYear, .dNavNextYear',c.context).css('display','none')}if(this.displayClose){n.append($('<a href="#" title="'+$.dpText.TEXT_CLOSE+'" id="dClose">'+$.dpText.TEXT_CLOSE+'</a>').bind('click',function(){c._closeCalendar();return false}))}c._renderCalendar();$(this.ele).trigger('dpDisplayed',n);if(!c.inline){if(this.verticalPosition==$.dpConst.POS_BOTTOM){n.css('top',g.top+f.height()-n.height()+c.verticalOffset)}if(this.horizontalPosition==$.dpConst.POS_RIGHT){n.css('left',g.left+f.width()-n.width()+c.horizontalOffset)}if(this.verticalPosition==$.dpConst.POS_CUSTOM){n.css('top',g.top+f.innerHeight()+c.verticalOffset)}if(this.horizontalPosition==$.dpConst.POS_CUSTOM){n.css('left',g.left+(f.innerWidth()-n.innerWidth())/2+c.horizontalOffset)}$(document).bind('mousedown.datepicker',this._checkMouse)}},setRenderCallback:function(a){if(a==null)return;if(a&&typeof(a)=='function'){a=[a]}this.renderCallback=this.renderCallback.concat(a)},cellRender:function(f,g,h,i){var c=this.dpController;var d=new Date(g.getTime());f.bind('click',function(){var a=$(this);if(!a.is('.disabledDay')){c.setSelected(d,!a.is('.selectedDay')||!c.selectMultiple,false,true);if(c.closeOnSelect){if(c.settings.autoFocusNextInput){var b=c.ele;var e=false;$(':input',b.form).each(function(){if(e){$(this).focus();return false}if(this==b){e=true}})}else{c.ele.focus()}c._closeCalendar()}}});if(c.isSelected(d)){f.addClass('selectedDay');if(c.settings.selectWeek){f.parent().addClass('selectedWeek')}}else if(c.selectMultiple&&c.numSelected==c.numSelectable){f.addClass('unselectable')}},_applyRenderCallbacks:function(){var c=this;$('td',this.context).each(function(){for(var i=0;i<c.renderCallback.length;i++){$td=$(this);c.renderCallback[i].apply(this,[$td,Date.fromString($td.data('datePickerDate')),c.displayedMonth,c.displayedYear])}});return},_displayNewMonth:function(a,m,y){if(!$(a).is('.disabledDay')){this.setDisplayedMonth(this.displayedMonth+m,this.displayedYear+y,true)}a.blur();return false},_rerenderCalendar:function(){this._clearCalendar();this._renderCalendar()},_renderCalendar:function(){$('h4',this.context).html((new Date(this.displayedYear,this.displayedMonth,1)).asString($.dpText.HEADER_FORMAT));$('.dCalendar',this.context).renderCalendar($.extend({},this.settings,{month:this.displayedMonth,year:this.displayedYear,renderCallback:this.cellRender,dpController:this,hoverClass:this.hoverClass}));if(this.displayedYear==this.startDate.getFullYear()&&this.displayedMonth==this.startDate.getMonth()){$('.dNavPrevYear',this.context).addClass('disabledDay');$('.dNavPrevMonth',this.context).addClass('disabledDay');$('.dCalendar td.otherMonth',this.context).each(function(){var a=$(this);if(Number(a.text())>20){a.addClass('disabledDay')}});var d=this.startDate.getDate();$('.dCalendar td.current-month',this.context).each(function(){var a=$(this);if(Number(a.text())<d){a.addClass('disabledDay')}})}else{$('.dNavPrevYear',this.context).removeClass('disabledDay');$('.dNavPrevMonth',this.context).removeClass('disabledDay');var d=this.startDate.getDate();if(d>20){var c=this.startDate.getTime();var e=new Date(c);e.addMonths(1);if(this.displayedYear==e.getFullYear()&&this.displayedMonth==e.getMonth()){$('.dCalendar td.otherMonth',this.context).each(function(){var a=$(this);if(Date.fromString(a.data('datePickerDate')).getTime()<c){a.addClass('disabledDay')}})}}}if(this.displayedYear==this.endDate.getFullYear()&&this.displayedMonth==this.endDate.getMonth()){$('.dNavNextYear',this.context).addClass('disabledDay');$('.dNavNextMonth',this.context).addClass('disabledDay');$('.dCalendar td.otherMonth',this.context).each(function(){var a=$(this);if(Number(a.text())<14){a.addClass('disabledDay')}});var d=this.endDate.getDate();$('.dCalendar td.current-month',this.context).each(function(){var a=$(this);if(Number(a.text())>d){a.addClass('disabledDay')}})}else{$('.dNavNextYear',this.context).removeClass('disabledDay');$('.dNavNextMonth',this.context).removeClass('disabledDay');var d=this.endDate.getDate();if(d<13){var f=new Date(this.endDate.getTime());f.addMonths(-1);if(this.displayedYear==f.getFullYear()&&this.displayedMonth==f.getMonth()){$('.dCalendar td.otherMonth',this.context).each(function(){var a=$(this);var b=Number(a.text());if(b<13&&b>d){a.addClass('disabledDay')}})}}}this._applyRenderCallbacks()},_closeCalendar:function(a,b){if(!b||b==this.ele){$(document).unbind('mousedown.datepicker');$(document).unbind('keydown.datepicker');this._clearCalendar();$('#dPopup a').unbind();$('#dPopup').empty().remove();if(!a){$(this.ele).trigger('dpClosed',[this.getSelected()])}}},_clearCalendar:function(){$('.dCalendar td',this.context).unbind();$('.dCalendar',this.context).empty()}});$.dpConst={SHOW_HEADER_NONE:0,SHOW_HEADER_SHORT:1,SHOW_HEADER_LONG:2,POS_TOP:0,POS_BOTTOM:0,POS_LEFT:0,POS_RIGHT:0,POS_CUSTOM:1,DP_INTERNAL_FOCUS:'dpInternalFocusTrigger'};$.dpText={TEXT_PREV_YEAR:$.localisationAn('Previous year'),TEXT_PREV_MONTH:$.localisationAn('Previous month'),TEXT_NEXT_YEAR:$.localisationAn('Next year'),TEXT_NEXT_MONTH:$.localisationAn('Next month'),TEXT_CLOSE:$.localisationAn('Close'),TEXT_CHOOSE_DATE:$.localisationAn('Choose date'),HEADER_FORMAT:'mmmm yyyy'};$.dpVersion='';$.fn.datePicker.defaults={month:undefined,year:undefined,showHeader:$.dpConst.SHOW_HEADER_SHORT,startDate:undefined,endDate:undefined,inline:false,renderCallback:null,createButton:true,showYearNavigation:true,closeOnSelect:true,displayClose:false,selectMultiple:false,numSelectable:Number.MAX_VALUE,clickInput:false,rememberViewedMonth:true,selectWeek:false,verticalPosition:$.dpConst.POS_CUSTOM,horizontalPosition:$.dpConst.POS_CUSTOM,verticalOffset:0,horizontalOffset:0,hoverClass:'dHover',autoFocusNextInput:false};function _getController(a){if(a._dpId)return $.event._dpCache[a._dpId];return false};if($.fn.bgIframe==undefined){$.fn.bgIframe=function(){return this}};$(window).bind('unload',function(){var a=$.event._dpCache||[];for(var i in a){$(a[i].ele)._dpDestroy()}})})(jQuery);

(function(b){var m,t,u,f,D,j,E,n,z,A,q=0,e={},o=[],p=0,d={},l=[],G=null,v=new Image,J=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,W=/[^\.]\.(swf)\s*$/i,K,L=1,y=0,s="",r,i,h=false,B=b.extend(b("<div/>")[0],{prop:0}),M=b.browser.msie&&b.browser.version<7&&!window.XMLHttpRequest,N=function(){t.hide();v.onerror=v.onload=null;G&&G.abort();m.empty()},O=function(){if(false===e.onError(o,q,e)){t.hide();h=false}else{e.titleShow=false;e.width="auto";e.height="auto";m.html('<p class="itemWarning">The requested content cannot be loaded.<br />Please try again later.</p>');
F()}},I=function(){var a=o[q],c,g,k,C,P,w;N();e=b.extend({},b.fn.lightBoxAn.defaults,typeof b(a).data("lightBoxAn")=="undefined"?e:b(a).data("lightBoxAn"));w=e.onStart(o,q,e);if(w===false)h=false;else{if(typeof w=="object")e=b.extend(e,w);k=e.title||(a.nodeName?b(a).attr("title"):a.title)||"";if(a.nodeName&&!e.orig)e.orig=b(a).children("img:first").length?b(a).children("img:first"):b(a);if(k===""&&e.orig&&e.titleFromAlt)k=e.orig.attr("alt");c=e.href||(a.nodeName?b(a).attr("href"):a.href)||null;if(/^(?:javascript)/i.test(c)||
c=="#")c=null;if(e.type){g=e.type;if(!c)c=e.content}else if(e.content)g="html";else if(c)g=c.match(J)?"image":c.match(W)?"swf":b(a).hasClass("iframe")?"iframe":c.indexOf("#")===0?"inline":"ajax";if(g){if(g=="inline"){a=c.substr(c.indexOf("#"));g=b(a).length>0?"inline":"ajax"}e.type=g;e.href=c;e.title=k;if(e.autoDimensions)if(e.type=="html"||e.type=="inline"||e.type=="ajax"){e.width="auto";e.height="auto"}else e.autoDimensions=false;if(e.modal){e.overlayShow=true;e.hideOnOverlayClick=false;e.hideOnContentClick=
false;e.enableEscapeButton=false;e.showCloseButton=false}e.padding=parseInt(e.padding,10);e.margin=parseInt(e.margin,10);m.css("padding",e.padding+e.margin);b(".tmpInlineLightBox").unbind("cancelLightBox").bind("changeLightBox",function(){b(this).replaceWith(j.children())});switch(g){case "html":m.html(e.content);F();break;case "inline":if(b(a).parent().is(".viewBox")===true){h=false;break}b('<div class="tmpInlineLightBox" />').hide().insertBefore(b(a)).bind("cleanupLightBox",function(){b(this).replaceWith(j.children())}).bind("cancelLightBox",
function(){b(this).replaceWith(m.children())});b(a).appendTo(m);F();break;case "image":h=false;b.lightBoxAn.showActivity();v=new Image;v.onerror=function(){O()};v.onload=function(){h=true;v.onerror=v.onload=null;e.width=v.width;e.height=v.height;b("<img />").attr({id:"imgLightBox",src:v.src,alt:e.title}).appendTo(m);Q()};v.src=c;break;case "swf":e.scrolling="no";C='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+e.width+'" height="'+e.height+'"><param name="movie" value="'+c+
'"></param>';P="";b.each(e.swf,function(x,H){C+='<param name="'+x+'" value="'+H+'"></param>';P+=" "+x+'="'+H+'"'});C+='<embed src="'+c+'" type="application/x-shockwave-flash" width="'+e.width+'" height="'+e.height+'"'+P+"></embed></object>";m.html(C);F();break;case "ajax":h=false;b.lightBoxAn.showActivity();e.ajax.win=e.ajax.success;G=b.ajax(b.extend({},e.ajax,{url:c,data:e.ajax.data||{},error:function(x){x.status>0&&O()},success:function(x,H,R){if((typeof R=="object"?R:G).status==200){if(typeof e.ajax.win==
"function"){w=e.ajax.win(c,x,H,R);if(w===false){t.hide();return}else if(typeof w=="string"||typeof w=="object")x=w}m.html(x);F()}}}));break;case "iframe":Q()}}else O()}},F=function(){var a=e.width,c=e.height;a=a.toString().indexOf("%")>-1?parseInt((b(window).width()-e.margin*2)*parseFloat(a)/100,10)+"px":a=="auto"?"auto":a+"px";c=c.toString().indexOf("%")>-1?parseInt((b(window).height()-e.margin*2)*parseFloat(c)/100,10)+"px":c=="auto"?"auto":c+"px";m.wrapInner('<div style="width:'+a+";height:"+c+
";overflow: "+(e.scrolling=="auto"?"auto":e.scrolling=="yes"?"scroll":"hidden")+';position:relative;"></div>');e.width=m.width();e.height=m.height();Q()},Q=function(){var a,c;t.hide();if(f.is(":visible")&&false===d.onCleanup(l,p,d)){b.event.trigger("cancelLightBox");h=false}else{h=true;b(j.add(u)).unbind();b(window).unbind("resize.fb scroll.fb");b(document).unbind("keydown.fb");f.is(":visible")&&d.titlePosition!=="outside"&&f.css("height",f.height());l=o;p=q;d=e;if(d.overlayShow){u.css({"background-color":d.overlayColor,
opacity:d.overlayOpacity,cursor:d.hideOnOverlayClick?"pointer":"auto",height:b(document).height()});if(!u.is(":visible")){M&&b("select:not(#tmpLightBox select)").filter(function(){return this.style.visibility!=="hidden"}).css({visibility:"hidden"}).one("cleanupLightBox",function(){this.style.visibility="inherit"});u.show()}}else u.hide();i=X();s=d.title||"";y=0;n.empty().removeAttr("style").removeClass();if(d.titleShow!==false){if(b.isFunction(d.titleFormat))a=d.titleFormat(s,l,p,d);else a=s&&s.length?
d.titlePosition=="float"?'<table class="unitTitleFWrap" cellpadding="0" cellspacing="0"><tr><td  class="unitTitleFLeft"></td><td class="unitTitleFMain">'+s+'</td><td class="unitTitleFRight"></td></tr></table>':'<div class="unitTitle'+d.titlePosition+'">'+s+"</div>":false;s=a;if(!(!s||s==="")){n.addClass("unitTitle"+d.titlePosition).html(s).appendTo("body").show();switch(d.titlePosition){case "inside":n.css({width:i.width-d.padding*2,marginLeft:d.padding,marginRight:d.padding});
y=n.outerHeight(true);n.appendTo(D);i.height+=y;break;case "over":n.css({marginLeft:d.padding,width:i.width-d.padding*2,bottom:d.padding}).appendTo(D);break;case "float":n.css("left",parseInt((n.width()-i.width-40)/2,10)*-1).appendTo(f);break;default:n.css({width:i.width-d.padding*2,paddingLeft:d.padding,paddingRight:d.padding}).appendTo(f)}}}n.hide();if(f.is(":visible")){b(E.add(z).add(A)).hide();a=f.position();r={top:a.top,left:a.left,width:f.width(),height:f.height()};c=r.width==i.width&&r.height==
i.height;j.fadeTo(d.changeFade,0.3,function(){var g=function(){j.html(m.contents()).fadeTo(d.changeFade,1,S)};b.event.trigger("changeLightBox");j.empty().removeAttr("filter").css({"border-width":d.padding,width:i.width-d.padding*2,height:e.autoDimensions?"auto":i.height-y-d.padding*2});if(c)g();else{B.prop=0;b(B).animate({prop:1},{duration:d.changeSpeed,easing:d.easingChange,step:T,complete:g})}})}else{f.removeAttr("style");j.css("border-width",d.padding);if(d.transitionIn=="elastic"){r=V();j.html(m.contents());
f.show();if(d.opacity)i.opacity=0;B.prop=0;b(B).animate({prop:1},{duration:d.speedIn,easing:d.easingIn,step:T,complete:S})}else{d.titlePosition=="inside"&&y>0&&n.show();j.css({width:i.width-d.padding*2,height:e.autoDimensions?"auto":i.height-y-d.padding*2}).html(m.contents());f.css(i).fadeIn(d.transitionIn=="none"?0:d.speedIn,S)}}}},Y=function(){if(d.enableEscapeButton||d.enableKeyboardNav)b(document).bind("keydown.fb",function(a){if(a.keyCode==27&&d.enableEscapeButton){a.preventDefault();b.lightBoxAn.close()}else if((a.keyCode==
37||a.keyCode==39)&&d.enableKeyboardNav&&a.target.tagName!=="INPUT"&&a.target.tagName!=="TEXTAREA"&&a.target.tagName!=="SELECT"){a.preventDefault();b.lightBoxAn[a.keyCode==37?"prev":"next"]()}});if(d.showNavArrows){if(d.cyclic&&l.length>1||p!==0)z.show();if(d.cyclic&&l.length>1||p!=l.length-1)A.show()}else{z.hide();A.hide()}},S=function(){if(!b.support.opacity){j.get(0).style.removeAttribute("filter");f.get(0).style.removeAttribute("filter")}e.autoDimensions&&j.css("height","auto");f.css("height","auto");
s&&s.length&&n.show();d.showCloseButton&&E.show();Y();d.hideOnContentClick&&j.bind("click",b.lightBoxAn.close);d.hideOnOverlayClick&&u.bind("click",b.lightBoxAn.close);b(window).bind("resize.fb",b.lightBoxAn.resize);d.centerOnScroll&&b(window).bind("scroll.fb",b.lightBoxAn.center);if(d.type=="iframe")b('<iframe id="frameInnerLightBox" name="frameInnerLightBox'+(new Date).getTime()+'" frameborder="0" hspace="0" '+(b.browser.msie?'allowtransparency="true""':"")+' scrolling="'+e.scrolling+'" src="'+d.href+'"></iframe>').appendTo(j);
f.show();h=false;b.lightBoxAn.center();d.onComplete(l,p,d);var a,c;if(l.length-1>p){a=l[p+1].href;if(typeof a!=="undefined"&&a.match(J)){c=new Image;c.src=a}}if(p>0){a=l[p-1].href;if(typeof a!=="undefined"&&a.match(J)){c=new Image;c.src=a}}},T=function(a){var c={width:parseInt(r.width+(i.width-r.width)*a,10),height:parseInt(r.height+(i.height-r.height)*a,10),top:parseInt(r.top+(i.top-r.top)*a,10),left:parseInt(r.left+(i.left-r.left)*a,10)};if(typeof i.opacity!=="undefined")c.opacity=a<0.5?0.5:a;f.css(c);
j.css({width:c.width-d.padding*2,height:c.height-y*a-d.padding*2})},U=function(){return[b(window).width()-d.margin*2,b(window).height()-d.margin*2,b(document).scrollLeft()+d.margin,b(document).scrollTop()+d.margin]},X=function(){var a=U(),c={},g=d.autoScale,k=d.padding*2;c.width=d.width.toString().indexOf("%")>-1?parseInt(a[0]*parseFloat(d.width)/100,10):d.width+k;c.height=d.height.toString().indexOf("%")>-1?parseInt(a[1]*parseFloat(d.height)/100,10):d.height+k;if(g&&(c.width>a[0]||c.height>a[1]))if(e.type==
"image"||e.type=="swf"){g=d.width/d.height;if(c.width>a[0]){c.width=a[0];c.height=parseInt((c.width-k)/g+k,10)}if(c.height>a[1]){c.height=a[1];c.width=parseInt((c.height-k)*g+k,10)}}else{c.width=Math.min(c.width,a[0]);c.height=Math.min(c.height,a[1])}c.top=parseInt(Math.max(a[3]-20,a[3]+(a[1]-c.height-40)*0.5),10);c.left=parseInt(Math.max(a[2]-20,a[2]+(a[0]-c.width-40)*0.5),10);return c},V=function(){var a=e.orig?b(e.orig):false,c={};if(a&&a.length){c=a.offset();c.top+=parseInt(a.css("paddingTop"),
10)||0;c.left+=parseInt(a.css("paddingLeft"),10)||0;c.top+=parseInt(a.css("border-top-width"),10)||0;c.left+=parseInt(a.css("border-left-width"),10)||0;c.width=a.width();c.height=a.height();c={width:c.width+d.padding*2,height:c.height+d.padding*2,top:c.top-d.padding-20,left:c.left-d.padding-20}}else{a=U();c={width:d.padding*2,height:d.padding*2,top:parseInt(a[3]+a[1]*0.5,10),left:parseInt(a[2]+a[0]*0.5,10)}}return c},Z=function(){if(t.is(":visible")){b("div",t).css("top",L*-32+"px");L=(L+1)%8}else clearInterval(K)};
b.fn.lightBoxAn=function(a){if(!b(this).length)return this;b(this).data("lightBoxAn",b.extend({},a,b.metadata?b(this).metadata():{})).unbind("click.fb").bind("click.fb",function(c){c.preventDefault();if(!h){h=true;b(this).blur();o=[];q=0;c=b(this).attr("rel")||"";if(!c||c==""||c==="nofollow")o.push(this);else{o=b("a[rel="+c+"], area[rel="+c+"]");q=o.index(this)}I()}});return this};b.lightBoxAn=function(a,c){var g;if(!h){h=true;g=typeof c!=="undefined"?c:{};o=[];q=parseInt(g.index,10)||0;if(b.isArray(a)){for(var k=
0,C=a.length;k<C;k++)if(typeof a[k]=="object")b(a[k]).data("lightBoxAn",b.extend({},g,a[k]));else a[k]=b({}).data("lightBoxAn",b.extend({content:a[k]},g));o=jQuery.merge(o,a)}else{if(typeof a=="object")b(a).data("lightBoxAn",b.extend({},g,a));else a=b({}).data("lightBoxAn",b.extend({content:a},g));o.push(a)}if(q>o.length||q<0)q=0;I()}};b.lightBoxAn.showActivity=function(){clearInterval(K);t.show();K=setInterval(Z,66)};b.lightBoxAn.hideActivity=function(){t.hide()};b.lightBoxAn.next=function(){return b.lightBoxAn.pos(p+
1)};b.lightBoxAn.prev=function(){return b.lightBoxAn.pos(p-1)};b.lightBoxAn.pos=function(a){if(!h){a=parseInt(a);o=l;if(a>-1&&a<l.length){q=a;I()}else if(d.cyclic&&l.length>1){q=a>=l.length?0:l.length-1;I()}}};b.lightBoxAn.cancel=function(){if(!h){h=true;b.event.trigger("cancelLightBox");N();e.onCancel(o,q,e);h=false}};b.lightBoxAn.close=function(){function a(){u.fadeOut("fast");n.empty().hide();f.hide();b.event.trigger("cleanupLightBox");j.empty();d.onClosed(l,p,d);l=e=[];p=q=0;d=e={};h=false}if(!(h||f.is(":hidden"))){h=
true;if(d&&false===d.onCleanup(l,p,d))h=false;else{N();b(E.add(z).add(A)).hide();b(j.add(u)).unbind();b(window).unbind("resize.fb scroll.fb");b(document).unbind("keydown.fb");j.find("iframe").attr("src",M&&/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank");d.titlePosition!=="inside"&&n.empty();f.stop();if(d.transitionOut=="elastic"){r=V();var c=f.position();i={top:c.top,left:c.left,width:f.width(),height:f.height()};if(d.opacity)i.opacity=1;n.empty().hide();B.prop=1;
b(B).animate({prop:0},{duration:d.speedOut,easing:d.easingOut,step:T,complete:a})}else f.fadeOut(d.transitionOut=="none"?0:d.speedOut,a)}}};b.lightBoxAn.resize=function(){u.is(":visible")&&u.css("height",b(document).height());b.lightBoxAn.center(true)};b.lightBoxAn.center=function(a){var c,g;if(!h){g=a===true?1:0;c=U();!g&&(f.width()>c[0]||f.height()>c[1])||f.stop().animate({top:parseInt(Math.max(c[3]-20,c[3]+(c[1]-j.height()-40)*0.5-d.padding)),left:parseInt(Math.max(c[2]-20,c[2]+(c[0]-j.width()-40)*0.5-
d.padding))},typeof a=="number"?a:200)}};b.lightBoxAn.init=function(){if(!b(".wrapLightBox").length){b("body").append(m=b('<div id="tmpLightBox"></div>'),t=b('<div class="loadingLightBox"><div></div></div>'),u=b('<div id="overlayLightBox"></div>'),f=b('<div class="wrapLightBox"></div>'));D=b('<div class="viewOuter"></div>').append('<div class="lBg lBgT"></div><div class="lBg lBgTR"></div><div class="lBg lBgR"></div><div class="lBg lBgBR"></div><div class="lBg lBgB"></div><div class="lBg lBgBL"></div><div class="lBg lBgL"></div><div class="lBg lBgTL"></div>').appendTo(f);
D.append(j=b('<div class="viewLightBox"></div>'),E=b('<a class="itemClose"></a>'),n=b('<div class="unitTitle"></div>'),z=b('<a href="javascript:;" class="leftLightBox"><span></span></a>'),A=b('<a href="javascript:;" class="rightLightBox"><span></span></a>'));E.click(b.lightBoxAn.close);t.click(b.lightBoxAn.cancel);z.click(function(a){a.preventDefault();b.lightBoxAn.prev()});A.click(function(a){a.preventDefault();b.lightBoxAn.next()});
b.fn.mousewheel&&f.bind("mousewheel.fb",function(a,c){if(h)a.preventDefault();else if(b(a.target).get(0).clientHeight==0||b(a.target).get(0).scrollHeight===b(a.target).get(0).clientHeight){a.preventDefault();b.lightBoxAn[c>0?"prev":"next"]()}});b.support.opacity||f.addClass("ieLightBox");if(M){t.addClass("ie6LightBox");f.addClass("ie6LightBox");b('<iframe id="frameLightBox" src="'+(/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank")+'" scrolling="no" border="0" frameborder="0" tabindex="-1"></iframe>').prependTo(D)}}};
b.fn.lightBoxAn.defaults={padding:0,margin:40,opacity:false,modal:false,cyclic:false,scrolling:"auto",width:560,height:340,autoScale:true,autoDimensions:true,centerOnScroll:false,ajax:{},swf:{wmode:"transparent"},hideOnOverlayClick:true,hideOnContentClick:false,overlayShow:true,overlayOpacity:0.7,overlayColor:"#777",titleShow:false,titlePosition:"float",titleFormat:null,titleFromAlt:false,transitionIn:"fade",transitionOut:"fade",speedIn:300,speedOut:300,changeSpeed:300,changeFade:"fast",easingIn:"swing",
easingOut:"swing",showCloseButton:true,showNavArrows:true,enableEscapeButton:true,enableKeyboardNav:true,onStart:function(){},onCancel:function(){},onComplete:function(){},onCleanup:function(){},onClosed:function(){},onError:function(){}};b(document).ready(function(){b.lightBoxAn.init()})})(jQuery);
(function($){$.fn.ajaxSubmit=function(options){if(!this.length){log("ajaxSubmit: skipping submit process - no element selected");return this}if(typeof options=="function"){options={success:options}}var action=this.attr("action");var url=(typeof action==="string")?$.trim(action):"";if(url){url=(url.match(/^([^#]+)/)||[])[1]}url=url||window.location.href||"";options=$.extend(true,{url:url,type:this[0].getAttribute("method")||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},options);var veto={};this.trigger("form-pre-serialize",[this,options,veto]);if(veto.veto){log("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(options.beforeSerialize&&options.beforeSerialize(this,options)===false){log("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var n,v,a=this.formToArray(options.semantic);if(options.data){options.extraData=options.data;for(n in options.data){if(options.data[n] instanceof Array){for(var k in options.data[n]){a.push({name:n,value:options.data[n][k]})}}else{v=options.data[n];v=$.isFunction(v)?v():v;a.push({name:n,value:v})}}}if(options.beforeSubmit&&options.beforeSubmit(a,this,options)===false){log("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[a,this,options,veto]);if(veto.veto){log("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}var q=$.param(a);if(options.type.toUpperCase()=="GET"){options.url+=(options.url.indexOf("?")>=0?"&":"?")+q;options.data=null}else{options.data=q}var $form=this,callbacks=[];if(options.resetForm){callbacks.push(function(){$form.resetForm()})}if(options.clearForm){callbacks.push(function(){$form.clearForm()})}if(!options.dataType&&options.target){var oldSuccess=options.success||function(){};callbacks.push(function(data){var fn=options.replaceTarget?"replaceWith":"html";$(options.target)[fn](data).each(oldSuccess,arguments)})}else{if(options.success){callbacks.push(options.success)}}options.success=function(data,status,xhr){var context=options.context||options;for(var i=0,max=callbacks.length;i<max;i++){callbacks[i].apply(context,[data,status,xhr||$form,$form])}};var fileInputs=$("input:file",this).length>0;var mp="multipart/form-data";var multipart=($form.attr("enctype")==mp||$form.attr("encoding")==mp);if(options.iframe!==false&&(fileInputs||options.iframe||multipart)){if(options.closeKeepAlive){$.get(options.closeKeepAlive,fileUpload)}else{fileUpload()}}else{$.ajax(options)}this.trigger("form-submit-notify",[this,options]);return this;function fileUpload(){var form=$form[0];if($(":input[name=submit],:input[id=submit]",form).length){alert('Error: Form elements must not have name or id of "submit".');return}var s=$.extend(true,{},$.ajaxSettings,options);s.context=s.context||s;var id="jqFormIO"+(new Date().getTime()),fn="_"+id;var $io=$('<iframe id="'+id+'" name="'+id+'" src="'+s.iframeSrc+'" />');var io=$io[0];$io.css({position:"absolute",top:"-1000px",left:"-1000px"});var xhr={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(){this.aborted=1;$io.attr("src",s.iframeSrc)}};var g=s.global;if(g&&!$.active++){$.event.trigger("ajaxStart")}if(g){$.event.trigger("ajaxSend",[xhr,s])}if(s.beforeSend&&s.beforeSend.call(s.context,xhr,s)===false){if(s.global){$.active--}return}if(xhr.aborted){return}var timedOut=0;var sub=form.clk;if(sub){var n=sub.name;if(n&&!sub.disabled){s.extraData=s.extraData||{};s.extraData[n]=sub.value;if(sub.type=="image"){s.extraData[n+".x"]=form.clk_x;s.extraData[n+".y"]=form.clk_y}}}function doSubmit(){var t=$form.attr("target"),a=$form.attr("action");form.setAttribute("target",id);if(form.getAttribute("method")!="POST"){form.setAttribute("method","POST")}if(form.getAttribute("action")!=s.url){form.setAttribute("action",s.url)}if(!s.skipEncodingOverride){$form.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"})}if(s.timeout){setTimeout(function(){timedOut=true;cb()},s.timeout)}var extraInputs=[];try{if(s.extraData){for(var n in s.extraData){extraInputs.push($('<input type="hidden" name="'+n+'" value="'+s.extraData[n]+'" />').appendTo(form)[0])}}$io.appendTo("body");io.attachEvent?io.attachEvent("onload",cb):io.addEventListener("load",cb,false);form.submit()}finally{form.setAttribute("action",a);if(t){form.setAttribute("target",t)}else{$form.removeAttr("target")}$(extraInputs).remove()}}if(s.forceSync){doSubmit()}else{setTimeout(doSubmit,10)}var data,doc,domCheckCount=50;function cb(){doc=io.contentWindow?io.contentWindow.document:io.contentDocument?io.contentDocument:io.document;if(!doc||doc.location.href==s.iframeSrc){return}io.detachEvent?io.detachEvent("onload",cb):io.removeEventListener("load",cb,false);var ok=true;try{if(timedOut){throw"timeout"}var isXml=s.dataType=="xml"||doc.XMLDocument||$.isXMLDoc(doc);log("isXml="+isXml);if(!isXml&&window.opera&&(doc.body==null||doc.body.innerHTML=="")){if(--domCheckCount){log("requeing onLoad callback, DOM not available");setTimeout(cb,250);return}}xhr.responseText=doc.body?doc.body.innerHTML:doc.documentElement?doc.documentElement.innerHTML:null;xhr.responseXML=doc.XMLDocument?doc.XMLDocument:doc;xhr.getResponseHeader=function(header){var headers={"content-type":s.dataType};return headers[header]};var scr=/(json|script)/.test(s.dataType);if(scr||s.textarea){var ta=doc.getElementsByTagName("textarea")[0];if(ta){xhr.responseText=ta.value}else{if(scr){var pre=doc.getElementsByTagName("pre")[0];var b=doc.getElementsByTagName("body")[0];if(pre){xhr.responseText=pre.textContent}else{if(b){xhr.responseText=b.innerHTML}}}}}else{if(s.dataType=="xml"&&!xhr.responseXML&&xhr.responseText!=null){xhr.responseXML=toXml(xhr.responseText)}}data=httpData(xhr,s.dataType,s)}catch(e){log("error caught:",e);ok=false;xhr.error=e;s.error.call(s.context,xhr,"error",e);g&&$.event.trigger("ajaxError",[xhr,s,e])}if(xhr.aborted){log("upload aborted");ok=false}if(ok){s.success.call(s.context,data,"success",xhr);g&&$.event.trigger("ajaxSuccess",[xhr,s])}g&&$.event.trigger("ajaxComplete",[xhr,s]);if(g&&!--$.active){$.event.trigger("ajaxStop")}s.complete&&s.complete.call(s.context,xhr,ok?"success":"error");setTimeout(function(){$io.removeData("form-plugin-onload");$io.remove();xhr.responseXML=null},100)}var toXml=$.parseXML||function(s,doc){if(window.ActiveXObject){doc=new ActiveXObject("Microsoft.XMLDOM");doc.async="false";doc.loadXML(s)}else{doc=(new DOMParser()).parseFromString(s,"text/xml")}return(doc&&doc.documentElement&&doc.documentElement.nodeName!="parsererror")?doc:null};var parseJSON=$.parseJSON||function(s){return window["eval"]("("+s+")")};var httpData=function(xhr,type,s){var ct=xhr.getResponseHeader("content-type")||"",xml=type==="xml"||!type&&ct.indexOf("xml")>=0,data=xml?xhr.responseXML:xhr.responseText;if(xml&&data.documentElement.nodeName==="parsererror"){$.error&&$.error("parsererror")}if(s&&s.dataFilter){data=s.dataFilter(data,type)}if(typeof data==="string"){if(type==="json"||!type&&ct.indexOf("json")>=0){data=parseJSON(data)}else{if(type==="script"||!type&&ct.indexOf("javascript")>=0){$.globalEval(data)}}}return data}}};$.fn.ajaxForm=function(options){if(this.length===0){var o={s:this.selector,c:this.context};if(!$.isReady&&o.s){log("DOM not ready, queuing ajaxForm");$(function(){$(o.s,o.c).ajaxForm(options)});return this}log("terminating; zero elements found by selector"+($.isReady?"":" (DOM not ready)"));return this}return this.ajaxFormUnbind().bind("submit.form-plugin",function(e){if(!e.isDefaultPrevented()){e.preventDefault();$(this).ajaxSubmit(options)}}).bind("click.form-plugin",function(e){var target=e.target;var $el=$(target);if(!($el.is(":submit,input:image"))){var t=$el.closest(":submit");if(t.length==0){return}target=t[0]}var form=this;form.clk=target;if(target.type=="image"){if(e.offsetX!=undefined){form.clk_x=e.offsetX;form.clk_y=e.offsetY}else{if(typeof $.fn.offset=="function"){var offset=$el.offset();form.clk_x=e.pageX-offset.left;form.clk_y=e.pageY-offset.top}else{form.clk_x=e.pageX-target.offsetLeft;form.clk_y=e.pageY-target.offsetTop}}}setTimeout(function(){form.clk=form.clk_x=form.clk_y=null},100)})};$.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};$.fn.formToArray=function(semantic){var a=[];if(this.length===0){return a}var form=this[0];var els=semantic?form.getElementsByTagName("*"):form.elements;if(!els){return a}var i,j,n,v,el,max,jmax;for(i=0,max=els.length;i<max;i++){el=els[i];n=el.name;if(!n){continue}if(semantic&&form.clk&&el.type=="image"){if(!el.disabled&&form.clk==el){a.push({name:n,value:$(el).val()});a.push({name:n+".x",value:form.clk_x},{name:n+".y",value:form.clk_y})}continue}v=$.fieldValue(el,true);if(v&&v.constructor==Array){for(j=0,jmax=v.length;j<jmax;j++){a.push({name:n,value:v[j]})}}else{if(v!==null&&typeof v!="undefined"){a.push({name:n,value:v})}}}if(!semantic&&form.clk){var $input=$(form.clk),input=$input[0];n=input.name;if(n&&!input.disabled&&input.type=="image"){a.push({name:n,value:$input.val()});a.push({name:n+".x",value:form.clk_x},{name:n+".y",value:form.clk_y})}}return a};$.fn.formSerialize=function(semantic){return $.param(this.formToArray(semantic))};$.fn.fieldSerialize=function(successful){var a=[];this.each(function(){var n=this.name;if(!n){return}var v=$.fieldValue(this,successful);if(v&&v.constructor==Array){for(var i=0,max=v.length;i<max;i++){a.push({name:n,value:v[i]})}}else{if(v!==null&&typeof v!="undefined"){a.push({name:this.name,value:v})}}});return $.param(a)};$.fn.fieldValue=function(successful){for(var val=[],i=0,max=this.length;i<max;i++){var el=this[i];var v=$.fieldValue(el,successful);if(v===null||typeof v=="undefined"||(v.constructor==Array&&!v.length)){continue}v.constructor==Array?$.merge(val,v):val.push(v)}return val};$.fieldValue=function(el,successful){var n=el.name,t=el.type,tag=el.tagName.toLowerCase();if(successful===undefined){successful=true}if(successful&&(!n||el.disabled||t=="reset"||t=="button"||(t=="checkbox"||t=="radio")&&!el.checked||(t=="submit"||t=="image")&&el.form&&el.form.clk!=el||tag=="select"&&el.selectedIndex==-1)){return null}if(tag=="select"){var index=el.selectedIndex;if(index<0){return null}var a=[],ops=el.options;var one=(t=="select-one");var max=(one?index+1:ops.length);for(var i=(one?index:0);i<max;i++){var op=ops[i];if(op.selected){var v=op.value;if(!v){v=(op.attributes&&op.attributes.value&&!(op.attributes.value.specified))?op.text:op.value}if(one){return v}a.push(v)}}return a}return $(el).val()};$.fn.clearForm=function(){return this.each(function(){$("input,select,textarea",this).clearFields()})};$.fn.clearFields=$.fn.clearInputs=function(){return this.each(function(){var t=this.type,tag=this.tagName.toLowerCase();if(t=="text"||t=="password"||tag=="textarea"){this.value=""}else{if(t=="checkbox"||t=="radio"){this.checked=false}else{if(tag=="select"){this.selectedIndex=-1}}}})};$.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=="function"||(typeof this.reset=="object"&&!this.reset.nodeType)){this.reset()}})};$.fn.enable=function(b){if(b===undefined){b=true}return this.each(function(){this.disabled=!b})};$.fn.selected=function(select){if(select===undefined){select=true}return this.each(function(){var t=this.type;if(t=="checkbox"||t=="radio"){this.checked=select}else{if(this.tagName.toLowerCase()=="option"){var $sel=$(this).parent("select");if(select&&$sel[0]&&$sel[0].type=="select-one"){$sel.find("option").selected(false)}this.selected=select}}})};function log(){if($.fn.ajaxSubmit.debug){var msg="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log){window.console.log(msg)}else{if(window.opera&&window.opera.postError){window.opera.postError(msg)}}}}})(jQuery);